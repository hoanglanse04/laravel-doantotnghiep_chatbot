@php
    use Illuminate\Support\Str;
    $currentUrl = request()->path();

    $menus = array(
        array(
            'name' => 'Tổng quan',
            'children' => array(
                array(
                    'name' => 'Bảng điều khiển',
                    'icon' => '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 12.204c0-2.289 0-3.433.52-4.381c.518-.949 1.467-1.537 3.364-2.715l2-1.241C9.889 2.622 10.892 2 12 2s2.11.622 4.116 1.867l2 1.241c1.897 1.178 2.846 1.766 3.365 2.715S22 9.915 22 12.203v1.522c0 3.9 0 5.851-1.172 7.063S17.771 22 14 22h-4c-3.771 0-5.657 0-6.828-1.212S2 17.626 2 13.725z"/><path stroke-linecap="round" d="M12 15v3"/></g></svg>',
                    'url' => 'overview'
                ),
            )
        ),
        array(
            'name' => 'Hàng hoá',
            'children' => array(
                array(
                    'name' => 'Sản phẩm',
                    'icon' => '<svg class="w-4 h-4 max-h-4 fill-current text-inherit" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.703125 2C4.269531 2 3.859375 2.1875 3.574219 2.511719L2.371094 3.890625C2.371094 3.886719 2.371094 3.886719 2.367188 3.890625C2.132813 4.160156 2 4.515625 2 4.875L2 12.5C2 13.324219 2.675781 14 3.5 14L12.5 14C13.324219 14 14 13.324219 14 12.5L14 4.875C14 4.515625 13.867188 4.160156 13.628906 3.890625C13.628906 3.886719 13.628906 3.886719 13.628906 3.890625L12.425781 2.511719C12.140625 2.1875 11.726563 2 11.296875 2 Z M 4.703125 3L11.296875 3C11.441406 3 11.578125 3.0625 11.671875 3.171875L12.398438 4L3.601563 4L4.328125 3.171875C4.421875 3.0625 4.558594 3 4.703125 3 Z M 3 5L13 5L13 12.5C13 12.78125 12.78125 13 12.5 13L3.5 13C3.21875 13 3 12.78125 3 12.5 Z M 6 6L6 7L10 7L10 6 Z M 9.5 8L9 9L9 10L10 10L10 9 Z M 11.5 8L11 9L11 10L12 10L12 9 Z M 9 11L9 12L12 12L12 11Z"></path></svg>',
                    'url' => 'product'
                ),
                array(
                    'name' => 'Chuyên mục',
                    'icon' => '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--solar w-4 h-4 max-h-4 fill-current text-inherit" width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M12 1.25c-.605 0-1.162.15-1.771.402c-.589.244-1.273.603-2.124 1.05L6.037 3.787c-1.045.548-1.88.987-2.527 1.418c-.668.447-1.184.917-1.559 1.554c-.374.635-.542 1.323-.623 2.142c-.078.795-.078 1.772-.078 3.002v.194c0 1.23 0 2.207.078 3.002c.081.82.25 1.507.623 2.142c.375.637.89 1.107 1.56 1.554c.645.431 1.481.87 2.526 1.418l2.068 1.085c.851.447 1.535.806 2.124 1.05c.61.252 1.166.402 1.771.402s1.162-.15 1.771-.402c.589-.244 1.273-.603 2.124-1.05l2.068-1.084c1.045-.549 1.88-.988 2.526-1.419c.67-.447 1.185-.917 1.56-1.554c.374-.635.542-1.323.623-2.142c.078-.795.078-1.772.078-3.001v-.196c0-1.229 0-2.206-.078-3.001c-.081-.82-.25-1.507-.623-2.142c-.375-.637-.89-1.107-1.56-1.554c-.645-.431-1.481-.87-2.526-1.418l-2.068-1.085c-.851-.447-1.535-.806-2.124-1.05c-.61-.252-1.166-.402-1.771-.402M8.77 4.046c.89-.467 1.514-.793 2.032-1.007c.504-.209.859-.289 1.198-.289c.34 0 .694.08 1.198.289c.518.214 1.141.54 2.031 1.007l2 1.05c1.09.571 1.855.974 2.428 1.356c.282.189.503.364.683.54L12 11.162l-8.34-4.17c.18-.176.401-.351.684-.54c.572-.382 1.337-.785 2.427-1.356zM2.939 8.307c-.05.214-.089.457-.117.74c-.07.714-.071 1.617-.071 2.894v.117c0 1.278 0 2.181.071 2.894c.069.697.2 1.148.423 1.528c.222.377.543.696 1.1 1.068c.572.382 1.337.785 2.427 1.356l2 1.05c.89.467 1.513.793 2.031 1.007q.244.101.448.165v-8.663zm9.812 12.818q.204-.063.448-.164c.518-.214 1.141-.54 2.031-1.007l2-1.05c1.09-.572 1.855-.974 2.428-1.356c.556-.372.877-.691 1.1-1.068c.223-.38.353-.83.422-1.528c.07-.713.071-1.616.071-2.893v-.117c0-1.278 0-2.181-.071-2.894a6 6 0 0 0-.117-.74l-8.312 4.156z" clip-rule="evenodd"></path></svg>',
                    'url' => 'category',
                ),
                // array(
                //     'name'  => 'Mã giảm giá',
                //     'icon'  => '<svg class="w-4 h-4 max-h-4 fill-current text-inherit" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8.4375 1C8.036917 1 7.6539295 1.1609827 7.3730469 1.4433594L1.4355469 7.4277344C0.85779202 8.0099564 0.86092475 8.9649101 1.4394531 9.5449219L5.4550781 13.560547C6.0346395 14.140108 6.9897411 14.142514 7.5722656 13.564453L13.556641 7.6269531C13.839646 7.3454453 14 6.9625852 14 6.5625L14 2.5C14 1.6774686 13.322531 1 12.5 1L8.4375 1 z M 8.4375 2L12.5 2C12.781469 2 13 2.2185314 13 2.5L13 6.5625C13 6.6944148 12.94656 6.8234766 12.851562 6.9179688L6.8671875 12.855469C6.6677121 13.053414 6.360548 13.052001 6.1621094 12.853516L2.1464844 8.8378906C1.947009 8.6379024 1.9462861 8.3325905 2.1445312 8.1328125L8.0820312 2.1484375C8.1771487 2.0528142 8.304083 2 8.4375 2 z M 11.5 3C11.224 3 11 3.224 11 3.5C11 3.776 11.224 4 11.5 4C11.776 4 12 3.776 12 3.5C12 3.224 11.776 3 11.5 3 z M 7.75 4.5 A 0.75 0.75 0 0 0 7.75 6 A 0.75 0.75 0 0 0 7.75 4.5 z M 4.84375 7L4.84375 8L10 8L10 7L4.84375 7 z M 7.25 9 A 0.75 0.75 0 0 0 7.25 10.5 A 0.75 0.75 0 0 0 7.25 9 z"></path></svg>',
                //     'url'   => 'voucher'
                // ),
            )
        ),
        array(
            'name' => 'Bán hàng',
            'children' => array(

                // array(
                //     'name'  => 'Báo cáo',
                //     'icon'  => '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" d="M22 22H2"/><path d="M21 22v-7.5a1.5 1.5 0 0 0-1.5-1.5h-3a1.5 1.5 0 0 0-1.5 1.5V22m0 0V5c0-1.414 0-2.121-.44-2.56C14.122 2 13.415 2 12 2s-2.121 0-2.56.44C9 2.878 9 3.585 9 5v17m0 0V9.5A1.5 1.5 0 0 0 7.5 8h-3A1.5 1.5 0 0 0 3 9.5V22"/></g></svg>',
                //     'url'   => 'analitics',
                // ),
                array(
                    'name' => 'Người dùng',
                    'icon' => '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--solar w-4 h-4 max-h-4 fill-current text-inherit" width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M12 1.25a4.75 4.75 0 1 0 0 9.5a4.75 4.75 0 0 0 0-9.5M8.75 6a3.25 3.25 0 1 1 6.5 0a3.25 3.25 0 0 1-6.5 0M12 12.25c-2.313 0-4.445.526-6.024 1.414C4.42 14.54 3.25 15.866 3.25 17.5v.102c-.001 1.162-.002 2.62 1.277 3.662c.629.512 1.51.877 2.7 1.117c1.192.242 2.747.369 4.773.369s3.58-.127 4.774-.369c1.19-.24 2.07-.605 2.7-1.117c1.279-1.042 1.277-2.5 1.276-3.662V17.5c0-1.634-1.17-2.96-2.725-3.836c-1.58-.888-3.711-1.414-6.025-1.414M4.75 17.5c0-.851.622-1.775 1.961-2.528c1.316-.74 3.184-1.222 5.29-1.222c2.104 0 3.972.482 5.288 1.222c1.34.753 1.961 1.677 1.961 2.528c0 1.308-.04 2.044-.724 2.6c-.37.302-.99.597-2.05.811c-1.057.214-2.502.339-4.476.339s-3.42-.125-4.476-.339c-1.06-.214-1.68-.509-2.05-.81c-.684-.557-.724-1.293-.724-2.601" clip-rule="evenodd"></path></svg>',
                    'url' => 'user',
                ),
                array(
                    'name' => 'Đơn hàng',
                    'icon' => '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--solar w-4 h-4 max-h-4 fill-current text-inherit" width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M12 1.25a4.75 4.75 0 1 0 0 9.5a4.75 4.75 0 0 0 0-9.5M8.75 6a3.25 3.25 0 1 1 6.5 0a3.25 3.25 0 0 1-6.5 0M12 12.25c-2.313 0-4.445.526-6.024 1.414C4.42 14.54 3.25 15.866 3.25 17.5v.102c-.001 1.162-.002 2.62 1.277 3.662c.629.512 1.51.877 2.7 1.117c1.192.242 2.747.369 4.773.369s3.58-.127 4.774-.369c1.19-.24 2.07-.605 2.7-1.117c1.279-1.042 1.277-2.5 1.276-3.662V17.5c0-1.634-1.17-2.96-2.725-3.836c-1.58-.888-3.711-1.414-6.025-1.414M4.75 17.5c0-.851.622-1.775 1.961-2.528c1.316-.74 3.184-1.222 5.29-1.222c2.104 0 3.972.482 5.288 1.222c1.34.753 1.961 1.677 1.961 2.528c0 1.308-.04 2.044-.724 2.6c-.37.302-.99.597-2.05.811c-1.057.214-2.502.339-4.476.339s-3.42-.125-4.476-.339c-1.06-.214-1.68-.509-2.05-.81c-.684-.557-.724-1.293-.724-2.601" clip-rule="evenodd"></path></svg>',
                    'url' => 'orders',
                ),
                // array(
                //     'name'  => 'Khách hàng',
                //     'icon'  => '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--solar w-4 h-4 max-h-4 fill-current text-inherit" width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M12 1.25a4.75 4.75 0 1 0 0 9.5a4.75 4.75 0 0 0 0-9.5M8.75 6a3.25 3.25 0 1 1 6.5 0a3.25 3.25 0 0 1-6.5 0M12 12.25c-2.313 0-4.445.526-6.024 1.414C4.42 14.54 3.25 15.866 3.25 17.5v.102c-.001 1.162-.002 2.62 1.277 3.662c.629.512 1.51.877 2.7 1.117c1.192.242 2.747.369 4.773.369s3.58-.127 4.774-.369c1.19-.24 2.07-.605 2.7-1.117c1.279-1.042 1.277-2.5 1.276-3.662V17.5c0-1.634-1.17-2.96-2.725-3.836c-1.58-.888-3.711-1.414-6.025-1.414M4.75 17.5c0-.851.622-1.775 1.961-2.528c1.316-.74 3.184-1.222 5.29-1.222c2.104 0 3.972.482 5.288 1.222c1.34.753 1.961 1.677 1.961 2.528c0 1.308-.04 2.044-.724 2.6c-.37.302-.99.597-2.05.811c-1.057.214-2.502.339-4.476.339s-3.42-.125-4.476-.339c-1.06-.214-1.68-.509-2.05-.81c-.684-.557-.724-1.293-.724-2.601" clip-rule="evenodd"></path></svg>',
                //     'url'   => 'customer',
                // ),
            )

        ),
        array(
            'name' => 'Biên tập',
            'children' => array(
                array(
                    'name' => 'Liên hệ',
                    'icon' => '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M10.5 22v-2m4 2v-2"/><path fill="currentColor" d="M11 20v.75h.75V20zm3-.75a.75.75 0 0 0 0 1.5zm3.5-14a.75.75 0 0 0 0 1.5zM7 5.25a.75.75 0 0 0 0 1.5zm2 14a.75.75 0 0 0 0 1.5zm6 1.5a.75.75 0 0 0 0-1.5zm-4.75-9.5V20h1.5v-8.75zm.75 8H4.233v1.5H11zm-8.25-1.855V11.25h-1.5v6.145zm1.483 1.855c-.715 0-1.483-.718-1.483-1.855h-1.5c0 1.74 1.231 3.355 2.983 3.355zM6.5 6.75c1.967 0 3.75 1.902 3.75 4.5h1.5c0-3.201-2.246-6-5.25-6zm0-1.5c-3.004 0-5.25 2.799-5.25 6h1.5c0-2.598 1.783-4.5 3.75-4.5zm14.75 6v6.175h1.5V11.25zm-1.457 8H14v1.5h5.793zm1.457-1.825c0 1.12-.757 1.825-1.457 1.825v1.5c1.738 0 2.957-1.601 2.957-3.325zm1.5-6.175c0-3.201-2.246-6-5.25-6v1.5c1.967 0 3.75 1.902 3.75 4.5zM7 6.75h11v-1.5H7zm2 14h6v-1.5H9z"/><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M5 16h3m8-6.116V5.411m0 0V2.635c0-.236.168-.439.4-.484l.486-.093a3.2 3.2 0 0 1 1.755.156l.08.03c.554.214 1.16.254 1.737.115a.44.44 0 0 1 .542.427v2.221a.51.51 0 0 1-.393.499l-.066.016a3.2 3.2 0 0 1-1.9-.125a3.2 3.2 0 0 0-1.755-.156z"/></g></svg>',
                    'url' => 'contact',
                ),
                array(
                    'name' => 'Bài viết',
                    'icon' => '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--solar w-4 h-4 max-h-4 fill-current text-inherit" width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M10.944 1.25h2.112c1.838 0 3.294 0 4.433.153c1.172.158 2.121.49 2.87 1.238a.75.75 0 0 1-1.06 1.06c-.424-.422-1.004-.676-2.01-.811c-1.027-.138-2.382-.14-4.289-.14h-2c-1.907 0-3.261.002-4.29.14c-1.005.135-1.585.389-2.008.812S4.025 4.705 3.89 5.71c-.138 1.029-.14 2.383-.14 4.29v4c0 1.907.002 3.262.14 4.29c.135 1.005.389 1.585.812 2.008s1.003.677 2.009.812c1.028.138 2.382.14 4.289.14h2c1.907 0 3.262-.002 4.29-.14c1.005-.135 1.585-.389 2.008-.812c.696-.696.907-1.777.943-4.309a.75.75 0 0 1 1.5.022c-.035 2.427-.192 4.158-1.382 5.348c-.749.748-1.698 1.08-2.87 1.238c-1.14.153-2.595.153-4.433.153h-2.112c-1.838 0-3.294 0-4.433-.153c-1.172-.158-2.121-.49-2.87-1.238c-.748-.749-1.08-1.698-1.238-2.87c-.153-1.14-.153-2.595-.153-4.433V9.944c0-1.838 0-3.294.153-4.433c.158-1.172.49-2.121 1.238-2.87c.749-.748 1.698-1.08 2.87-1.238c1.14-.153 2.595-.153 4.433-.153m7.17 5.796a2.716 2.716 0 1 1 3.84 3.84L17.2 15.643a7 7 0 0 1-.63.587q-.346.27-.744.46c-.224.107-.46.185-.806.3l-2.084.695a1.28 1.28 0 0 1-1.62-1.62l.681-2.04l.014-.043c.116-.347.194-.582.301-.806a4 4 0 0 1 .46-.744c.153-.196.328-.371.587-.63l.031-.031zm2.78 1.06a1.216 1.216 0 0 0-1.72 0l-.182.182l.034.107c.094.27.273.63.611.968a2.55 2.55 0 0 0 1.075.645l.182-.182a1.216 1.216 0 0 0 0-1.72m-1.328 3.048a4 4 0 0 1-.99-.73a4 4 0 0 1-.73-.99L14.45 12.83c-.301.301-.407.409-.496.523q-.17.218-.289.467c-.062.131-.111.274-.246.678l-.4 1.2l.283.283l1.2-.4c.404-.135.547-.184.678-.246q.248-.12.467-.289c.114-.089.222-.195.523-.496zM7.25 9A.75.75 0 0 1 8 8.25h6.5a.75.75 0 0 1 0 1.5H8A.75.75 0 0 1 7.25 9m0 4a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5H8a.75.75 0 0 1-.75-.75m0 4a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5H8a.75.75 0 0 1-.75-.75" clip-rule="evenodd"></path></svg>',
                    'url' => 'post',
                ),
                array(
                    'name' => 'Trang đơn',
                    'icon' => '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--solar w-4 h-4 max-h-4 fill-current text-inherit" width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M7.263 3.26A2.25 2.25 0 0 1 9.5 1.25h5a2.25 2.25 0 0 1 2.237 2.01c.764.016 1.423.055 1.987.159c.758.14 1.403.404 1.928.93c.602.601.86 1.36.982 2.26c.116.866.116 1.969.116 3.336v6.11c0 1.367 0 2.47-.116 3.337c-.122.9-.38 1.658-.982 2.26s-1.36.86-2.26.982c-.867.116-1.97.116-3.337.116h-6.11c-1.367 0-2.47 0-3.337-.116c-.9-.122-1.658-.38-2.26-.982s-.86-1.36-.981-2.26c-.117-.867-.117-1.97-.117-3.337v-6.11c0-1.367 0-2.47.117-3.337c.12-.9.38-1.658.981-2.26c.525-.525 1.17-.79 1.928-.929c.564-.104 1.224-.143 1.987-.159m.002 1.5c-.718.016-1.272.052-1.718.134c-.566.104-.895.272-1.138.515c-.277.277-.457.665-.556 1.4c-.101.754-.103 1.756-.103 3.191v6c0 1.435.002 2.436.103 3.192c.099.734.28 1.122.556 1.399c.277.277.665.457 1.4.556c.754.101 1.756.103 3.191.103h6c1.435 0 2.436-.002 3.192-.103c.734-.099 1.122-.28 1.399-.556c.277-.277.457-.665.556-1.4c.101-.755.103-1.756.103-3.191v-6c0-1.435-.002-2.437-.103-3.192c-.099-.734-.28-1.122-.556-1.399c-.244-.243-.572-.41-1.138-.515c-.446-.082-1-.118-1.718-.133A2.25 2.25 0 0 1 14.5 6.75h-5a2.25 2.25 0 0 1-2.235-1.99M9.5 2.75a.75.75 0 0 0-.75.75v1c0 .414.336.75.75.75h5a.75.75 0 0 0 .75-.75v-1a.75.75 0 0 0-.75-.75zM6.25 10.5A.75.75 0 0 1 7 9.75h.5a.75.75 0 0 1 0 1.5H7a.75.75 0 0 1-.75-.75m3.5 0a.75.75 0 0 1 .75-.75H17a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75M6.25 14a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5H7a.75.75 0 0 1-.75-.75m3.5 0a.75.75 0 0 1 .75-.75H17a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75m-3.5 3.5a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5H7a.75.75 0 0 1-.75-.75m3.5 0a.75.75 0 0 1 .75-.75H17a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75" clip-rule="evenodd"></path></svg>',
                    'url' => 'page',
                ),
                array(
                    'name' => 'Hỏi đáp',
                    'icon' => '<svg class="iconify iconify--solar w-4 h-4 max-h-4 fill-current text-inherit" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="1.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M10.125 8.875a1.875 1.875 0 1 1 2.828 1.615c-.475.281-.953.708-.953 1.26V13"/><circle cx="12" cy="16" r="1" fill="currentColor"/></g></svg>',
                    'url' => 'qa',
                ),
            )
        ),
        array(
            'name' => 'Công cụ',
            'children' => array(
                array(
                    'name' => 'Builder',
                    'icon' => '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--solar w-4 h-4 max-h-4 fill-current text-inherit" width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M8.25 7A.75.75 0 0 1 9 6.25h6a.75.75 0 0 1 0 1.5H9A.75.75 0 0 1 8.25 7M9 15.25a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 0-1.5z"></path><path fill="currentColor" fill-rule="evenodd" d="M12.75 2a.75.75 0 0 0-1.5 0v.75H6.606c-.562 0-1.005 0-1.422.135a3 3 0 0 0-.526.235c-.38.22-.676.55-1.051.968l-.09.1c-.404.45-.744.828-.99 1.164c-.26.352-.463.715-.543 1.148a2.8 2.8 0 0 0 0 1c.08.433.282.796.542 1.148c.247.336.587.714.992 1.165l.089.1c.375.418.671.748 1.05.967q.252.145.527.235c.417.136.86.136 1.422.135h4.644v.5H6.462c-.67 0-1.229 0-1.681.046c-.473.048-.913.153-1.309.418c-.3.2-.558.458-.759.758c-.264.396-.369.835-.417 1.309c-.046.452-.046 1.011-.046 1.68v.077c0 .67 0 1.229.046 1.681c.048.473.153.913.417 1.309c.201.3.459.558.76.759c.395.264.835.369 1.308.417c.452.046 1.011.046 1.68.046h4.789v1H10a.75.75 0 0 0 0 1.5h4a.75.75 0 0 0 0-1.5h-1.25v-1h4.644c.562 0 1.005 0 1.422-.135q.276-.09.526-.235c.38-.22.676-.55 1.051-.968l.09-.1c.404-.45.744-.828.99-1.164c.26-.352.463-.715.543-1.148c.061-.33.061-.67 0-1c-.08-.433-.282-.796-.542-1.148c-.247-.336-.587-.714-.992-1.165l-.089-.1c-.375-.418-.671-.748-1.05-.967a3 3 0 0 0-.527-.235c-.417-.136-.86-.136-1.422-.135H12.75v-.5h4.788c.67 0 1.229 0 1.681-.046c.473-.048.913-.153 1.309-.418c.3-.2.558-.458.759-.758c.264-.396.369-.836.417-1.309c.046-.452.046-1.011.046-1.68v-.077c0-.67 0-1.229-.046-1.681c-.048-.473-.153-.913-.418-1.309a2.8 2.8 0 0 0-.758-.759c-.396-.264-.836-.369-1.309-.417c-.452-.046-1.011-.046-1.68-.046H12.75zM6.704 4.25c-.706 0-.894.009-1.056.061a1.3 1.3 0 0 0-.239.107c-.148.085-.28.22-.751.745c-.435.484-.725.808-.924 1.078c-.191.26-.253.41-.275.532a1.3 1.3 0 0 0 0 .454c.022.121.084.272.275.532c.199.27.489.594.924 1.078c.472.526.603.66.751.745q.114.066.239.107c.162.052.35.061 1.056.061H17.5c.718 0 1.2 0 1.567-.038c.355-.036.519-.1.628-.173c.136-.09.253-.208.344-.345c.073-.108.137-.272.173-.627c.037-.367.038-.85.038-1.567c0-.718 0-1.2-.038-1.567c-.036-.355-.1-.519-.173-.627a1.3 1.3 0 0 0-.344-.345c-.109-.073-.273-.137-.628-.173c-.367-.037-.85-.038-1.567-.038zm10.592 9c.706 0 .894.009 1.056.061q.125.04.239.107c.148.085.28.22.751.745c.435.484.725.808.924 1.078c.191.26.253.41.275.532q.042.227 0 .454c-.022.121-.084.272-.275.532c-.199.27-.489.594-.924 1.078c-.472.526-.603.66-.751.745q-.114.066-.24.107c-.161.052-.349.061-1.055.061H6.5c-.718 0-1.2 0-1.567-.038c-.355-.036-.519-.1-.627-.173a1.3 1.3 0 0 1-.345-.344c-.073-.109-.137-.273-.173-.628c-.037-.367-.038-.85-.038-1.567c0-.718 0-1.2.038-1.567c.036-.355.1-.519.173-.627a1.3 1.3 0 0 1 .345-.345c.108-.073.272-.137.627-.173c.367-.037.85-.038 1.567-.038z" clip-rule="evenodd"></path></svg>',
                    'url' => 'builder',
                ),
                // array(
                //     'name'  => 'Trình xem',
                //     'icon'  => '<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 max-h-4 fill-current text-inherit" viewBox="0 0 16 16"><path d="M2.5 2C1.6774686 2 1 2.6774686 1 3.5L1 11.5C1 12.322531 1.6774686 13 2.5 13L13.5 13C14.322531 13 15 12.322531 15 11.5L15 3.5C15 2.6774686 14.322531 2 13.5 2L2.5 2 z M 2.5 3L5 3L5 12L2.5 12C2.2185314 12 2 11.781469 2 11.5L2 3.5C2 3.2185314 2.2185314 3 2.5 3 z M 6 3L13.5 3C13.781469 3 14 3.2185314 14 3.5L14 7L6 7L6 3 z M 6 8L10 8L10 12L6 12L6 8 z M 11 8L14 8L14 11.5C14 11.781469 13.781469 12 13.5 12L11 12L11 8 z"></path></svg>',
                //     'url'   => 'slider',
                // ),
                array(
                    'name' => 'Vai trò',
                    'icon' => '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--solar w-4 h-4 max-h-4 fill-current text-inherit" width="16" height="16" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 16c0-2.828 0-4.243.879-5.121C3.757 10 5.172 10 8 10h8c2.828 0 4.243 0 5.121.879C22 11.757 22 13.172 22 16s0 4.243-.879 5.121C20.243 22 18.828 22 16 22H8c-2.828 0-4.243 0-5.121-.879C2 20.243 2 18.828 2 16Z"></path><path stroke-linecap="round" d="M12 14v4m-6-8V8a6 6 0 1 1 12 0v2"></path></g></svg>',
                    'url' => 'roles',
                ),
                // array(
                //     'name'  => 'Quyền hạn',
                //     'icon'  => '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--solar w-4 h-4 max-h-4 fill-current text-inherit" width="16" height="16" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 16c0-2.828 0-4.243.879-5.121C3.757 10 5.172 10 8 10h8c2.828 0 4.243 0 5.121.879C22 11.757 22 13.172 22 16s0 4.243-.879 5.121C20.243 22 18.828 22 16 22H8c-2.828 0-4.243 0-5.121-.879C2 20.243 2 18.828 2 16Z"></path><path stroke-linecap="round" d="M12 14v4m-6-8V8a6 6 0 1 1 12 0v2"></path></g></svg>',
                //     'url'   => 'permissions',
                // ),
                array(
                    'name' => 'Cài đặt',
                    'icon' => '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--solar w-4 h-4 max-h-4 fill-current text-inherit" width="16" height="16" viewBox="0 0 24 24"><g fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"><path d="M12 8.25a3.75 3.75 0 1 0 0 7.5a3.75 3.75 0 0 0 0-7.5M9.75 12a2.25 2.25 0 1 1 4.5 0a2.25 2.25 0 0 1-4.5 0"></path><path d="M12 1.25c-.705 0-1.348.194-2.051.52c-.68.317-1.469.783-2.454 1.367l-.754.446c-.986.584-1.773 1.05-2.38 1.496c-.628.462-1.11.934-1.458 1.553s-.505 1.279-.58 2.063c-.073.76-.073 1.691-.073 2.861v.888c0 1.17 0 2.1.073 2.86c.075.785.232 1.446.58 2.064c.349.619.83 1.091 1.458 1.553c.607.446 1.394.912 2.38 1.496l.754.446c.985.584 1.773 1.05 2.454 1.367c.703.326 1.346.52 2.051.52s1.348-.194 2.051-.52c.68-.317 1.469-.783 2.454-1.367l.754-.446c.986-.584 1.773-1.05 2.38-1.496c.628-.462 1.11-.934 1.458-1.553s.505-1.279.58-2.063c.073-.76.073-1.691.073-2.86v-.889c0-1.17 0-2.1-.073-2.86c-.075-.785-.232-1.446-.58-2.064c-.349-.619-.83-1.091-1.458-1.553c-.607-.446-1.394-.912-2.38-1.496l-.754-.446c-.985-.584-1.773-1.05-2.454-1.367c-.703-.326-1.346-.52-2.051-.52M8.225 4.447c1.027-.608 1.751-1.035 2.356-1.316c.59-.274 1.01-.381 1.419-.381s.83.107 1.42.38c.604.282 1.328.71 2.355 1.317l.686.407c1.027.608 1.75 1.037 2.29 1.434c.526.387.83.71 1.038 1.08c.21.371.33.806.395 1.47c.065.68.066 1.54.066 2.756v.812c0 1.216 0 2.075-.066 2.755c-.064.665-.185 1.1-.395 1.471c-.208.37-.512.693-1.038 1.08c-.54.397-1.263.826-2.29 1.434l-.686.407c-1.027.608-1.751 1.035-2.356 1.316c-.59.274-1.01.381-1.419.381s-.83-.107-1.42-.38c-.604-.282-1.328-.71-2.355-1.317l-.686-.407c-1.027-.608-1.75-1.037-2.29-1.434c-.526-.387-.83-.71-1.038-1.08c-.21-.371-.331-.806-.395-1.47c-.065-.68-.066-1.54-.066-2.756v-.812c0-1.216 0-2.075.066-2.755c.064-.665.185-1.1.394-1.471c.209-.37.513-.693 1.04-1.08c.54-.397 1.262-.826 2.29-1.434z"></path></g></svg>',
                    'url' => 'setting',
                ),
            )
        ),
    );
    $user = auth('admin')->user();
    $userPermissions = $user->roles
        ->flatMap(fn($role) => $role->permissions)
        ->pluck('key')
        ->unique()
        ->toArray();
@endphp
<a href="/" class="block mx-auto max-w-max my-4">
    <img width="50" height="50" alt="logo" src="{{ asset('android-chrome-192x192.png') }}">
</a>
<ul class="overflow-auto space-y-1 px-4" style="height: calc(100% - 93px)">
    @foreach ($menus as $menu)
        @php
            $visibleChildren = collect($menu['children'])->filter(function ($sub) use ($userPermissions) {
                return in_array('viewAny-' . Str::of($sub['url'])->replace('-', '_'), $userPermissions);
            });
        @endphp

        @if ($visibleChildren->isNotEmpty())
            <li class="menu-item w-full">
                <div class="pt-2 pb-2 mx-4 text-sm font-semibold text-gray-700">
                    {{ $menu['name'] }}
                </div>
                <ul class="space-y-0.5">
                    @foreach ($visibleChildren as $submenu)
                        @php
                            $subActive = Str::startsWith($currentUrl, 'admin/' . trim($submenu['url'], '/'));
                        @endphp
                        <li class="w-full{{ $subActive ? ' active' : '' }}">
                            <a href="{{ url('admin/' . $submenu['url']) }}"
                                class="font-medium border-2 text-sm ease-nav-brand my-0 flex items-center whitespace-nowrap px-2 py-1 text-gray-700 transition hover:bg-white hover:text-gray-900 hover:border-[#e8e8e8] rounded-xl {{ $subActive ? 'bg-white text-gray-900 border-[#e8e8e8]' : ' border-transparent' }}">
                                <div class="flex h-8 w-8 items-center justify-center rounded-lg bg-center stroke-0 text-center p-2">
                                    {!! $submenu['icon'] !!}
                                </div>
                                <span class="duration-300 opacity-100 ml-2">{{ $submenu['name'] }}</span>
                            </a>
                        </li>
                    @endforeach
                </ul>
            </li>
        @endif
    @endforeach
</ul>